<div class="container d-flex align-items-center justify-content-center">
  <div>
    <div class="calendar-nav">
      <%= link_to "Month View", '#', class: 'btn btn-primary', data: { view: 'month' } %>
      <%= link_to "Week View", '#', class: 'btn btn-primary', data: { view: 'week' } %>
      <%= link_to "Day View", '#', class: 'btn btn-primary', data: { view: 'day' } %>
    </div>

    <% case params[:view]
       when 'month' %>
        <%= month_calendar do |date| %>
          <%= date.day %>
        <% end %>
    <% when 'week' %>
        <%= week_calendar(number_of_weeks: 1) do |date| %>
          <%= date.day %>
        <% end %>
    <% when 'day' %>
        <div class="simple-calendar">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>
                  <h4><%= Date.current.strftime('%a') %><br></h4>
                  <h1><%= Date.current.strftime('%d') %> </h1>
                </th>
              </tr>
            </thead>

            <tbody>
              <% (0..23).each do |hour| %>
                <tr>
                  <td>
                    <%= "#{hour}:00" %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>

    <% end %>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const calendarLinks = document.querySelectorAll('.calendar-nav a');

    calendarLinks.forEach(link => {
      link.addEventListener('click', function(event) {
        event.preventDefault();
        const view = this.dataset.view;
        window.location.href = `?view=${view}`;
      });
    });
  });
</script>
